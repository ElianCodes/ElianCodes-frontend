---
import { Markdown } from 'astro/components';

export async function getStaticPaths({rss}) {
  const allPosts = Astro.fetchContent('./**/*.md');
  const sortedPosts = allPosts.sort((a, b) => new Date(b.createdAt) - new Date(a.datecreatedAt));
  rss({
    title: 'Elian Van Cutsem',
    description: 'Programming and Frontend related articles',
    customData: `<language>en-us</language>`,
    items: sortedPosts.map(post => ({
      title: post.title,
      description: post.longDescription,
      link: post.url,
      pubDate: post.createdAt,
      author: { name: post.author },
      image: post.imgUrl,
      id: post.slug,
    })),
    dest: "/blog.xml",
  });
  return [];
}
---