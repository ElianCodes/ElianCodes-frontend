<div class="absolute text-white dark:text-gray-900 text-right top-8 right-8 xl:top-12 xl:right-12 text-3xl flex flex-row-reverse gap-8">
    <button id="navigationButton" title="open the menu">🍔</button>
    <nav id="navigation" class="hidden transition-all ease-in-out duration-300" role="menu" aria-expanded="false">
        <ul class="flex gap-8">
            <li><a title="to the home page" href="/">Home</a></li>
            <li><a title="to the blog" href="/blog/">Blog</a></li>
        </ul>
    </nav>
    <button id="eyeDropper">🔍</button>
    <button class="hidden" id="clearColor">🗑</button>
</div>

<script hoist>
document.addEventListener('DOMContentLoaded', () => {
    if('color' in localStorage) {
        const clearColor = document.getElementById('clearColor')
        clearColor.classList.remove('hidden')
    }
    const navigation = document.getElementById('navigation')
    const button = document.getElementById('navigationButton')
    const openMenu = () => {
        navigation.classList.remove('hidden')
        button.setAttribute('title', 'close the menu')
        button.innerHTML = '🍕'
        navigation.setAttribute('aria-expanded', 'true')
    }
    const closeMenu = () => {
        navigation.classList.add('hidden')
        button.setAttribute('title', 'open the menu')
        button.innerHTML = '🍔'
        navigation.setAttribute('aria-expanded', 'false')
    }
    button.addEventListener('click', e => {
        e.preventDefault()
        navigation.getAttribute('aria-expanded') == 'false' ? openMenu() : closeMenu()
    })
})
</script>

<script src={Astro.resolve('./PickColor.ts')} hoist></script>
