<template>
  <div>
    <div class="blog-author">
      <p>Blogpost written by <a :href="authorLink" target="_blank">{{ author }}</a></p>
    </div>
    <div class="blog-footer">
      <!--<div class="like">
        <button v-on:click.prevent="addLike" class="blog-action">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path>
          </svg>
        </button>
        <span>{{ this.formatedLikes() }}</span>
      </div>-->
      <a href="/blog.xml" class="blog-action" title="Subscribe to the RSS Feed">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
        </svg>
      </a>
      <nuxt-link to="/tip" class="blog-action" title="Buy me a coffee">
        <svg class="text-white" fill="none" stroke="currentColor" viewBox="-47 1 511 511.99897" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="8" d="m396.675781 46.253906h-24.890625l-6.914062-33.527344c-1.523438-7.375-8.09375-12.726562-15.621094-12.726562h-281.386719c-7.53125 0-14.101562 5.351562-15.621093 12.726562l-6.917969 33.527344h-24.890625c-10.992188 0-19.933594 8.941406-19.933594 19.933594v32.957031c0 10.992188 8.941406 19.9375 19.933594 19.9375h9.78125l5.542968 38.949219c-1.679687.96875-3.210937 2.207031-4.511718 3.703125-3.328125 3.839844-4.828125 8.925781-4.113282 13.960937l37.003907 259.988282c1.019531 7.171875 6.40625 12.859375 13.210937 14.539062l5.265625 37.015625c2.011719 14.117188 14.277344 24.761719 28.535157 24.761719h194.816406c14.257812 0 26.523437-10.644531 28.535156-24.761719l5.265625-37.015625c6.804687-1.679687 12.191406-7.367187 13.210937-14.539062l37.003907-259.988282c.714843-5.035156-.785157-10.121093-4.113281-13.960937-1.300782-1.496094-2.832032-2.734375-4.515626-3.703125l5.546876-38.949219h9.78125c10.992187 0 19.933593-8.945312 19.933593-19.9375v-32.957031c-.003906-10.992188-8.945312-19.933594-19.9375-19.933594zm-21.5625 127.324219-37.003906 259.988281c-.175781 1.234375-1.246094 2.160156-2.488281 2.160156h-71.847656c-4.144532 0-7.503907 3.359376-7.503907 7.507813s3.359375 7.507813 7.503907 7.507813h60.753906l-4.894532 34.382812c-.964843 6.761719-6.839843 11.863281-13.671874 11.863281h-194.8125c-6.832032 0-12.707032-5.101562-13.671876-11.863281l-4.890624-34.382812h136.253906c4.148437 0 7.507812-3.359376 7.507812-7.507813s-3.359375-7.507813-7.507812-7.507813h-147.351563c-1.242187 0-2.3125-.925781-2.488281-2.160156l-37.003906-259.988281c-.140625-.988281.308594-1.679687.589844-2.003906.269531-.308594.855468-.800781 1.769531-.847657.101562-.003906.199219-.011718.304687-.019531h327.789063c.101562.007813.203125.015625.304687.019531.914063.046876 1.5.539063 1.769532.847657.28125.324219.730468 1.015625.589843 2.003906zm-329.730469-54.496094h326.347657l-5.210938 36.613281h-315.925781zm356.214844-19.9375c0 2.714844-2.207031 4.921875-4.921875 4.921875h-376.242187c-2.710938 0-4.921875-2.207031-4.921875-4.921875v-32.957031c0-2.714844 2.210937-4.921875 4.921875-4.921875h67.175781c4.144531 0 7.503906-3.359375 7.503906-7.507813 0-4.144531-3.359375-7.503906-7.503906-7.503906h-26.953125l6.289062-30.492187c.089844-.433594.476563-.75.917969-.75h281.386719c.441406 0 .828125.316406.917969.75l6.289062 30.492187h-233.914062c-4.148438 0-7.507813 3.359375-7.507813 7.503906 0 4.148438 3.359375 7.507813 7.507813 7.507813h274.132812c2.714844 0 4.921875 2.207031 4.921875 4.921875zm0 0"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="8" d="m265.023438 241.421875c-.050782-.050781-.105469-.097656-.160157-.148437-24.953125-24.695313-70.410156-19.570313-101.484375 11.507812-14.851562 14.847656-24.320312 33.40625-26.664062 52.257812-2.433594 19.546876 3.015625 37.097657 15.339844 49.421876 0 .003906.003906.003906.007812.007812.019531.019531.039062.039062.058594.054688 10.398437 10.363281 24.496094 15.84375 40.375 15.84375 2.933594 0 5.933594-.191407 8.976562-.566407 18.851563-2.34375 37.410156-11.816406 52.261719-26.664062 31.152344-31.15625 36.234375-76.769531 11.324219-101.679688-.011719-.015625-.023438-.023437-.035156-.035156zm-113.410157 65.46875c1.933594-15.550781 9.882813-30.996094 22.378907-43.496094 14.972656-14.972656 33.71875-22.863281 50.480468-22.863281 7.703125 0 14.980469 1.675781 21.285156 5.089844-12.605468 7.488281-32.179687 22.21875-38.132812 44.050781-5.179688 18.980469-33.28125 40.007813-48.703125 49.757813-6.28125-8.628907-8.875-19.957032-7.308594-32.539063zm91.503907 25.628906c-12.5 12.5-27.945313 20.445313-43.496094 22.378907-10.984375 1.367187-21.015625-.433594-29.128906-5.089844 15.480468-10.21875 45.132812-32.414063 51.617187-56.1875 5.292969-19.417969 26.214844-32.492188 35.769531-37.574219 14.859375 19.78125 8.875 52.832031-14.761718 76.472656zm0 0"/>
        </svg>
      </nuxt-link>
      <!--<a  class="twitter-share-button" data-show-count="false">Tweet</a>-->
      <a :href="this.tweetLink" class="blog-action" title="Share this article on Twitter">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
        </svg>
      </a>
      <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
  </div>
</template>

<script lang="ts">
import Vue from 'vue'
const numeral = require('numeral')

export default Vue.extend({
  name: 'articleFooter',
  props: ['author', 'authorLink'],
  data() {
    return {
      likes: 997 as number,
      tweetLink: "https://twitter.com/intent/tweet?text=Just read an article by @HTMELian. https://elian.codes" + this.$nuxt.$route.path
    }
  },
  methods: {
    addLike() {
      this.likes = this.likes + 1
    },
  },
  computed: {
    formattedLikes: function () {
      const currentLikes: number = this.likes
      if(currentLikes < 1000){
        return numeral(currentLikes).format('0 a');
      } else {
        return numeral(currentLikes).format('0.0 a');
      }
    },
  }
})
</script>

<style>

</style>